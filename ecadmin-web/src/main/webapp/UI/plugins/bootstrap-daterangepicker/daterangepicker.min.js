(function(A,E){if(typeof define==="function"&&define.amd){define(["moment","jquery","exports"],function(F,H,G){A.daterangepicker=E(A,G,F,H)})}else{if(typeof exports!=="undefined"){var B=require("moment");var D=(typeof window!="undefined")?window.jQuery:undefined;if(!D){try{D=require("jquery");if(!D.fn){D.fn={}}}catch(C){if(!D){throw new Error("jQuery dependency not found")}}}E(A,exports,B,D)}else{A.daterangepicker=E(A,{},A.moment||moment,(A.jQuery||A.Zepto||A.ender||A.$))}}}(this||{},function(B,C,D,E){var A=function(F,M,H){this.parentEl="body";this.element=E(F);this.startDate=D().startOf("day");this.endDate=D().endOf("day");this.minDate=false;this.maxDate=false;this.dateLimit=false;this.autoApply=false;this.singleDatePicker=false;this.showDropdowns=false;this.showWeekNumbers=false;this.timePicker=false;this.timePicker24Hour=false;this.timePickerIncrement=1;this.timePickerSeconds=false;this.linkedCalendars=true;this.autoUpdateInput=true;this.ranges={};this.opens="right";if(this.element.hasClass("pull-right")){this.opens="left"}this.drops="down";if(this.element.hasClass("dropup")){this.drops="up"}this.buttonClasses="btn btn-sm";this.applyClass="btn-success";this.cancelClass="btn-default";this.locale={format:"YYYY-MM-DD",separator:" ~ ",applyLabel:"确认",cancelLabel:"取消",weekLabel:"W",customRangeLabel:"自定义范围",daysOfWeek:D.weekdaysMin(),monthNames:D.monthsShort(),firstDay:D.localeData().firstDayOfWeek()};this.callback=function(){};this.isShowing=false;this.leftCalendar={};this.rightCalendar={};if(typeof M!=="object"||M===null){M={}}M=E.extend(this.element.data(),M);if(typeof M.template!=="string"){M.template='<div class="daterangepicker dropdown-menu"><div class="calendar left"><div class="daterangepicker_input"><input class="input-mini" type="text" name="daterangepicker_start" value="" /><i class="fa fa-calendar glyphicon glyphicon-calendar"></i><div class="calendar-time"><div></div><i class="fa fa-clock-o glyphicon glyphicon-time"></i></div></div><div class="calendar-table"></div></div><div class="calendar right"><div class="daterangepicker_input"><input class="input-mini" type="text" name="daterangepicker_end" value="" /><i class="fa fa-calendar glyphicon glyphicon-calendar"></i><div class="calendar-time"><div></div><i class="fa fa-clock-o glyphicon glyphicon-time"></i></div></div><div class="calendar-table"></div></div><div class="ranges"><div class="range_inputs"><button class="applyBtn" disabled="disabled" type="button"></button> <button class="cancelBtn" type="button"></button></div></div></div>'}this.parentEl=(M.parentEl&&E(M.parentEl).length)?E(M.parentEl):E(this.parentEl);this.container=E(M.template).appendTo(this.parentEl);if(typeof M.locale==="object"){if(typeof M.locale.format==="string"){this.locale.format=M.locale.format}if(typeof M.locale.separator==="string"){this.locale.separator=M.locale.separator}if(typeof M.locale.daysOfWeek==="object"){this.locale.daysOfWeek=M.locale.daysOfWeek.slice()}if(typeof M.locale.monthNames==="object"){this.locale.monthNames=M.locale.monthNames.slice()}if(typeof M.locale.firstDay==="number"){this.locale.firstDay=M.locale.firstDay}if(typeof M.locale.applyLabel==="string"){this.locale.applyLabel=M.locale.applyLabel}if(typeof M.locale.cancelLabel==="string"){this.locale.cancelLabel=M.locale.cancelLabel}if(typeof M.locale.weekLabel==="string"){this.locale.weekLabel=M.locale.weekLabel}if(typeof M.locale.customRangeLabel==="string"){this.locale.customRangeLabel=M.locale.customRangeLabel}}if(typeof M.startDate==="string"){this.startDate=D(M.startDate,this.locale.format)}if(typeof M.endDate==="string"){this.endDate=D(M.endDate,this.locale.format)}if(typeof M.minDate==="string"){this.minDate=D(M.minDate,this.locale.format)}if(typeof M.maxDate==="string"){this.maxDate=D(M.maxDate,this.locale.format)}if(typeof M.startDate==="object"){this.startDate=D(M.startDate)}if(typeof M.endDate==="object"){this.endDate=D(M.endDate)}if(typeof M.minDate==="object"){this.minDate=D(M.minDate)}if(typeof M.maxDate==="object"){this.maxDate=D(M.maxDate)}if(this.minDate&&this.startDate.isBefore(this.minDate)){this.startDate=this.minDate.clone()}if(this.maxDate&&this.endDate.isAfter(this.maxDate)){this.endDate=this.maxDate.clone()}if(typeof M.applyClass==="string"){this.applyClass=M.applyClass}if(typeof M.cancelClass==="string"){this.cancelClass=M.cancelClass}if(typeof M.dateLimit==="object"){this.dateLimit=M.dateLimit}if(typeof M.opens==="string"){this.opens=M.opens}if(typeof M.drops==="string"){this.drops=M.drops}if(typeof M.showWeekNumbers==="boolean"){this.showWeekNumbers=M.showWeekNumbers}if(typeof M.buttonClasses==="string"){this.buttonClasses=M.buttonClasses}if(typeof M.buttonClasses==="object"){this.buttonClasses=M.buttonClasses.join(" ")}if(typeof M.showDropdowns==="boolean"){this.showDropdowns=M.showDropdowns}if(typeof M.singleDatePicker==="boolean"){this.singleDatePicker=M.singleDatePicker;if(this.singleDatePicker){this.endDate=this.startDate.clone()}}if(typeof M.timePicker==="boolean"){this.timePicker=M.timePicker}if(typeof M.timePickerSeconds==="boolean"){this.timePickerSeconds=M.timePickerSeconds}if(typeof M.timePickerIncrement==="number"){this.timePickerIncrement=M.timePickerIncrement}if(typeof M.timePicker24Hour==="boolean"){this.timePicker24Hour=M.timePicker24Hour}if(typeof M.autoApply==="boolean"){this.autoApply=M.autoApply}if(typeof M.autoUpdateInput==="boolean"){this.autoUpdateInput=M.autoUpdateInput}if(typeof M.linkedCalendars==="boolean"){this.linkedCalendars=M.linkedCalendars}if(typeof M.isInvalidDate==="function"){this.isInvalidDate=M.isInvalidDate}if(this.locale.firstDay!=0){var O=this.locale.firstDay;while(O>0){this.locale.daysOfWeek.push(this.locale.daysOfWeek.shift());O--}}var G,J,R;if(typeof M.startDate==="undefined"&&typeof M.endDate==="undefined"){if(E(this.element).is("input[type=text]")){var K=E(this.element).val(),P=K.split(this.locale.separator);G=J=null;if(P.length==2){G=D(P[0],this.locale.format);J=D(P[1],this.locale.format)}else{if(this.singleDatePicker&&K!==""){G=D(K,this.locale.format);J=D(K,this.locale.format)}}if(G!==null&&J!==null){this.setStartDate(G);this.setEndDate(J)}}}if(typeof M.ranges==="object"){for(R in M.ranges){if(typeof M.ranges[R][0]==="string"){G=D(M.ranges[R][0],this.locale.format)}else{G=D(M.ranges[R][0])}if(typeof M.ranges[R][1]==="string"){J=D(M.ranges[R][1],this.locale.format)}else{J=D(M.ranges[R][1])}if(this.minDate&&G.isBefore(this.minDate)){G=this.minDate.clone()}var L=this.maxDate;if(this.dateLimit&&G.clone().add(this.dateLimit).isAfter(L)){L=G.clone().add(this.dateLimit)}if(L&&J.isAfter(L)){J=L.clone()}if((this.minDate&&J.isBefore(this.minDate))||(L&&G.isAfter(L))){continue}var I=document.createElement("textarea");I.innerHTML=R;var Q=I.value;this.ranges[Q]=[G,J]}var T="<ul>";for(R in this.ranges){T+="<li>"+R+"</li>"}T+="<li>"+this.locale.customRangeLabel+"</li>";T+="</ul>";this.container.find(".ranges").prepend(T)}if(typeof H==="function"){this.callback=H}if(!this.timePicker){this.startDate=this.startDate.startOf("day");this.endDate=this.endDate.endOf("day");this.container.find(".calendar-time").hide()}if(this.timePicker&&this.autoApply){this.autoApply=false}if(this.autoApply&&typeof M.ranges!=="object"){this.container.find(".ranges").hide()}else{if(this.autoApply){this.container.find(".applyBtn, .cancelBtn").addClass("hide")}}if(this.singleDatePicker){this.container.addClass("single");this.container.find(".calendar.left").addClass("single");this.container.find(".calendar.left").show();this.container.find(".calendar.right").hide();this.container.find(".daterangepicker_input input, .daterangepicker_input i").hide();if(!this.timePicker){this.container.find(".ranges").hide()}}if(typeof M.ranges==="undefined"&&!this.singleDatePicker){this.container.addClass("show-calendar")}this.container.addClass("opens"+this.opens);if(typeof M.ranges!=="undefined"&&this.opens=="right"){var N=this.container.find(".ranges");var S=N.clone();N.remove();this.container.find(".calendar.left").parent().prepend(S)}this.container.find(".applyBtn, .cancelBtn").addClass(this.buttonClasses);if(this.applyClass.length){this.container.find(".applyBtn").addClass(this.applyClass)}if(this.cancelClass.length){this.container.find(".cancelBtn").addClass(this.cancelClass)}this.container.find(".applyBtn").html(this.locale.applyLabel);this.container.find(".cancelBtn").html(this.locale.cancelLabel);this.container.find(".calendar").on("click.daterangepicker",".prev",E.proxy(this.clickPrev,this)).on("click.daterangepicker",".next",E.proxy(this.clickNext,this)).on("click.daterangepicker","td.available",E.proxy(this.clickDate,this)).on("mouseenter.daterangepicker","td.available",E.proxy(this.hoverDate,this)).on("mouseleave.daterangepicker","td.available",E.proxy(this.updateFormInputs,this)).on("change.daterangepicker","select.yearselect",E.proxy(this.monthOrYearChanged,this)).on("change.daterangepicker","select.monthselect",E.proxy(this.monthOrYearChanged,this)).on("change.daterangepicker","select.hourselect,select.minuteselect,select.secondselect,select.ampmselect",E.proxy(this.timeChanged,this)).on("click.daterangepicker",".daterangepicker_input input",E.proxy(this.showCalendars,this)).on("change.daterangepicker",".daterangepicker_input input",E.proxy(this.formInputsChanged,this));this.container.find(".ranges").on("click.daterangepicker","button.applyBtn",E.proxy(this.clickApply,this)).on("click.daterangepicker","button.cancelBtn",E.proxy(this.clickCancel,this)).on("click.daterangepicker","li",E.proxy(this.clickRange,this)).on("mouseenter.daterangepicker","li",E.proxy(this.hoverRange,this)).on("mouseleave.daterangepicker","li",E.proxy(this.updateFormInputs,this));if(this.element.is("input")){this.element.on({"click.daterangepicker":E.proxy(this.show,this),"focus.daterangepicker":E.proxy(this.show,this),"keyup.daterangepicker":E.proxy(this.elementChanged,this),"keydown.daterangepicker":E.proxy(this.keydown,this)})}else{this.element.on("click.daterangepicker",E.proxy(this.toggle,this))}if(this.element.is("input")&&!this.singleDatePicker&&this.autoUpdateInput){this.element.val(this.startDate.format(this.locale.format)+this.locale.separator+this.endDate.format(this.locale.format));this.element.trigger("change")}else{if(this.element.is("input")&&this.autoUpdateInput){this.element.val(this.startDate.format(this.locale.format));this.element.trigger("change")}}};A.prototype={constructor:A,setStartDate:function(F){if(typeof F==="string"){this.startDate=D(F,this.locale.format)}if(typeof F==="object"){this.startDate=D(F)}if(!this.timePicker){this.startDate=this.startDate.startOf("day")}if(this.timePicker&&this.timePickerIncrement){this.startDate.minute(Math.round(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement)}if(this.minDate&&this.startDate.isBefore(this.minDate)){this.startDate=this.minDate}if(this.maxDate&&this.startDate.isAfter(this.maxDate)){this.startDate=this.maxDate}if(!this.isShowing){this.updateElement()}this.updateMonthsInView()},setEndDate:function(F){if(typeof F==="string"){this.endDate=D(F,this.locale.format)}if(typeof F==="object"){this.endDate=D(F)}if(!this.timePicker){this.endDate=this.endDate.endOf("day")}if(this.timePicker&&this.timePickerIncrement){this.endDate.minute(Math.round(this.endDate.minute()/this.timePickerIncrement)*this.timePickerIncrement)}if(this.endDate.isBefore(this.startDate)){this.endDate=this.startDate.clone()}if(this.maxDate&&this.endDate.isAfter(this.maxDate)){this.endDate=this.maxDate}if(this.dateLimit&&this.startDate.clone().add(this.dateLimit).isBefore(this.endDate)){this.endDate=this.startDate.clone().add(this.dateLimit)}if(!this.isShowing){this.updateElement()}this.updateMonthsInView()},isInvalidDate:function(){return false},updateView:function(){if(this.timePicker){this.renderTimePicker("left");this.renderTimePicker("right");if(!this.endDate){this.container.find(".right .calendar-time select").attr("disabled","disabled").addClass("disabled")}else{this.container.find(".right .calendar-time select").removeAttr("disabled").removeClass("disabled")}}if(this.endDate){this.container.find('input[name="daterangepicker_end"]').removeClass("active");this.container.find('input[name="daterangepicker_start"]').addClass("active")}else{this.container.find('input[name="daterangepicker_end"]').addClass("active");this.container.find('input[name="daterangepicker_start"]').removeClass("active")}this.updateMonthsInView();this.updateCalendars();this.updateFormInputs()},updateMonthsInView:function(){if(this.endDate){if(!this.singleDatePicker&&this.leftCalendar.month&&this.rightCalendar.month&&(this.startDate.format("YYYY-MM")==this.leftCalendar.month.format("YYYY-MM")||this.startDate.format("YYYY-MM")==this.rightCalendar.month.format("YYYY-MM"))&&(this.endDate.format("YYYY-MM")==this.leftCalendar.month.format("YYYY-MM")||this.endDate.format("YYYY-MM")==this.rightCalendar.month.format("YYYY-MM"))){return}this.leftCalendar.month=this.startDate.clone().date(2);if(!this.linkedCalendars&&(this.endDate.month()!=this.startDate.month()||this.endDate.year()!=this.startDate.year())){this.rightCalendar.month=this.endDate.clone().date(2)}else{this.rightCalendar.month=this.startDate.clone().date(2).add(1,"month")}}else{if(this.leftCalendar.month.format("YYYY-MM")!=this.startDate.format("YYYY-MM")&&this.rightCalendar.month.format("YYYY-MM")!=this.startDate.format("YYYY-MM")){this.leftCalendar.month=this.startDate.clone().date(2);this.rightCalendar.month=this.startDate.clone().date(2).add(1,"month")}}},updateCalendars:function(){if(this.timePicker){var H,L,F;if(this.endDate){H=parseInt(this.container.find(".left .hourselect").val(),10);L=parseInt(this.container.find(".left .minuteselect").val(),10);F=this.timePickerSeconds?parseInt(this.container.find(".left .secondselect").val(),10):0;if(!this.timePicker24Hour){var K=this.container.find(".left .ampmselect").val();if(K==="PM"&&H<12){H+=12}if(K==="AM"&&H===12){H=0}}}else{H=parseInt(this.container.find(".right .hourselect").val(),10);L=parseInt(this.container.find(".right .minuteselect").val(),10);F=this.timePickerSeconds?parseInt(this.container.find(".right .secondselect").val(),10):0;if(!this.timePicker24Hour){var K=this.container.find(".right .ampmselect").val();if(K==="PM"&&H<12){H+=12}if(K==="AM"&&H===12){H=0}}}this.leftCalendar.month.hour(H).minute(L).second(F);this.rightCalendar.month.hour(H).minute(L).second(F)}this.renderCalendar("left");this.renderCalendar("right");this.container.find(".ranges li").removeClass("active");if(this.endDate==null){return}var I=true;var G=0;for(var J in this.ranges){if(this.timePicker){if(this.startDate.isSame(this.ranges[J][0])&&this.endDate.isSame(this.ranges[J][1])){I=false;this.chosenLabel=this.container.find(".ranges li:eq("+G+")").addClass("active").html();break}}else{if(this.startDate.format("YYYY-MM-DD")==this.ranges[J][0].format("YYYY-MM-DD")&&this.endDate.format("YYYY-MM-DD")==this.ranges[J][1].format("YYYY-MM-DD")){I=false;this.chosenLabel=this.container.find(".ranges li:eq("+G+")").addClass("active").html();break}}G++}if(I){this.chosenLabel=this.container.find(".ranges li:last").addClass("active").html();this.showCalendars()}},renderCalendar:function(S){var a=S=="left"?this.leftCalendar:this.rightCalendar;var p=a.month.month();var n=a.month.year();var s=a.month.hour();var Q=a.month.minute();var d=a.month.second();var N=D([n,p]).daysInMonth();var Z=D([n,p,1]);var H=D([n,p,N]);var R=D(Z).subtract(1,"month").month();var k=D(Z).subtract(1,"month").year();var e=D([k,R]).daysInMonth();var P=Z.day();var a=[];a.firstDay=Z;a.lastDay=H;for(var o=0;o<6;o++){a[o]=[]}var Y=e-P+this.locale.firstDay+1;if(Y>e){Y-=7}if(P==this.locale.firstDay){Y=e-6}var J=D([k,R,Y,12,Q,d]);var l,V;for(var o=0,l=0,V=0;o<42;o++,l++,J=D(J).add(24,"hour")){if(o>0&&l%7===0){l=0;V++}a[V][l]=J.clone().hour(s).minute(Q).second(d);J.hour(12);if(this.minDate&&a[V][l].format("YYYY-MM-DD")==this.minDate.format("YYYY-MM-DD")&&a[V][l].isBefore(this.minDate)&&S=="left"){a[V][l]=this.minDate.clone()}if(this.maxDate&&a[V][l].format("YYYY-MM-DD")==this.maxDate.format("YYYY-MM-DD")&&a[V][l].isAfter(this.maxDate)&&S=="right"){a[V][l]=this.maxDate.clone()}}if(S=="left"){this.leftCalendar.calendar=a}else{this.rightCalendar.calendar=a}var h=S=="left"?this.minDate:this.startDate;var L=this.maxDate;var X=S=="left"?this.startDate:this.endDate;var U='<table class="table-condensed">';U+="<thead>";U+="<tr>";if(this.showWeekNumbers){U+="<th></th>"}if((!h||h.isBefore(a.firstDay))&&(!this.linkedCalendars||S=="left")){U+='<th class="prev available"><i class="fa fa-chevron-left glyphicon glyphicon-chevron-left"></i></th>'}else{U+="<th></th>"}var r=this.locale.monthNames[a[1][1].month()]+a[1][1].format(" YYYY");if(this.showDropdowns){var g=a[1][1].month();var K=a[1][1].year();var F=(L&&L.year())||(K+5);var W=(h&&h.year())||(K-50);var f=K==W;var O=K==F;var G='<select class="monthselect">';for(var q=0;q<12;q++){if((!f||q>=h.month())&&(!O||q<=L.month())){G+="<option value='"+q+"'"+(q===g?" selected='selected'":"")+">"+this.locale.monthNames[q]+"</option>"}else{G+="<option value='"+q+"'"+(q===g?" selected='selected'":"")+" disabled='disabled'>"+this.locale.monthNames[q]+"</option>"}}G+="</select>";var c='<select class="yearselect">';for(var j=W;j<=F;j++){c+='<option value="'+j+'"'+(j===K?' selected="selected"':"")+">"+j+"</option>"}c+="</select>";r=G+c}U+='<th colspan="5" class="month">'+r+"</th>";if((!L||L.isAfter(a.lastDay))&&(!this.linkedCalendars||S=="right"||this.singleDatePicker)){U+='<th class="next available"><i class="fa fa-chevron-right glyphicon glyphicon-chevron-right"></i></th>'}else{U+="<th></th>"}U+="</tr>";U+="<tr>";if(this.showWeekNumbers){U+='<th class="week">'+this.locale.weekLabel+"</th>"}E.each(this.locale.daysOfWeek,function(i,m){U+="<th>"+m+"</th>"});U+="</tr>";U+="</thead>";U+="<tbody>";if(this.endDate==null&&this.dateLimit){var b=this.startDate.clone().add(this.dateLimit).endOf("day");if(!L||b.isBefore(L)){L=b}}for(var V=0;V<6;V++){U+="<tr>";if(this.showWeekNumbers){U+='<td class="week">'+a[V][0].week()+"</td>"}for(var l=0;l<7;l++){var I=[];if(a[V][l].isSame(new Date(),"day")){I.push("today")}if(a[V][l].isoWeekday()>5){I.push("weekend")}if(a[V][l].month()!=a[1][1].month()){I.push("off")}if(this.minDate&&a[V][l].isBefore(this.minDate,"day")){I.push("off","disabled")}if(L&&a[V][l].isAfter(L,"day")){I.push("off","disabled")}if(this.isInvalidDate(a[V][l])){I.push("off","disabled")}if(a[V][l].format("YYYY-MM-DD")==this.startDate.format("YYYY-MM-DD")){I.push("active","start-date")}if(this.endDate!=null&&a[V][l].format("YYYY-MM-DD")==this.endDate.format("YYYY-MM-DD")){I.push("active","end-date")}if(this.endDate!=null&&a[V][l]>this.startDate&&a[V][l]<this.endDate){I.push("in-range")}var M="",T=false;for(var o=0;o<I.length;o++){M+=I[o]+" ";if(I[o]=="disabled"){T=true}}if(!T){M+="available"}U+='<td class="'+M.replace(/^\s+|\s+$/g,"")+'" data-title="r'+V+"c"+l+'">'+a[V][l].date()+"</td>"}U+="</tr>"}U+="</tbody>";U+="</table>";this.container.find(".calendar."+S+" .calendar-table").html(U)},renderTimePicker:function(H){var R,L,S,P=this.maxDate;if(this.dateLimit&&(!this.maxDate||this.startDate.clone().add(this.dateLimit).isAfter(this.maxDate))){P=this.startDate.clone().add(this.dateLimit)}if(H=="left"){L=this.startDate.clone();S=this.minDate}else{if(H=="right"){L=this.endDate?this.endDate.clone():this.startDate.clone();S=this.startDate}}R='<select class="hourselect">';var G=this.timePicker24Hour?0:1;var I=this.timePicker24Hour?23:12;for(var K=G;K<=I;K++){var Q=K;if(!this.timePicker24Hour){Q=L.hour()>=12?(K==12?12:K+12):(K==12?0:K)}var F=L.clone().hour(Q);var J=false;if(S&&F.minute(59).isBefore(S)){J=true}if(P&&F.minute(0).isAfter(P)){J=true}if(Q==L.hour()&&!J){R+='<option value="'+K+'" selected="selected">'+K+"</option>"}else{if(J){R+='<option value="'+K+'" disabled="disabled" class="disabled">'+K+"</option>"}else{R+='<option value="'+K+'">'+K+"</option>"}}}R+="</select> ";R+=': <select class="minuteselect">';for(var K=0;K<60;K+=this.timePickerIncrement){var M=K<10?"0"+K:K;var F=L.clone().minute(K);var J=false;if(S&&F.second(59).isBefore(S)){J=true}if(P&&F.second(0).isAfter(P)){J=true}if(L.minute()==K&&!J){R+='<option value="'+K+'" selected="selected">'+M+"</option>"}else{if(J){R+='<option value="'+K+'" disabled="disabled" class="disabled">'+M+"</option>"}else{R+='<option value="'+K+'">'+M+"</option>"}}}R+="</select> ";if(this.timePickerSeconds){R+=': <select class="secondselect">';for(var K=0;K<60;K++){var M=K<10?"0"+K:K;var F=L.clone().second(K);var J=false;if(S&&F.isBefore(S)){J=true}if(P&&F.isAfter(P)){J=true}if(L.second()==K&&!J){R+='<option value="'+K+'" selected="selected">'+M+"</option>"}else{if(J){R+='<option value="'+K+'" disabled="disabled" class="disabled">'+M+"</option>"}else{R+='<option value="'+K+'">'+M+"</option>"}}}R+="</select> "}if(!this.timePicker24Hour){R+='<select class="ampmselect">';var O="";var N="";if(S&&L.clone().hour(12).minute(0).second(0).isBefore(S)){O=' disabled="disabled" class="disabled"'}if(P&&L.clone().hour(0).minute(0).second(0).isAfter(P)){N=' disabled="disabled" class="disabled"'}if(L.hour()>=12){R+='<option value="AM"'+O+'>AM</option><option value="PM" selected="selected"'+N+">PM</option>"}else{R+='<option value="AM" selected="selected"'+O+'>AM</option><option value="PM"'+N+">PM</option>"}R+="</select>"}this.container.find(".calendar."+H+" .calendar-time div").html(R)},updateFormInputs:function(){if(this.container.find("input[name=daterangepicker_start]").is(":focus")||this.container.find("input[name=daterangepicker_end]").is(":focus")){return}this.container.find("input[name=daterangepicker_start]").val(this.startDate.format(this.locale.format));if(this.endDate){this.container.find("input[name=daterangepicker_end]").val(this.endDate.format(this.locale.format))}if(this.singleDatePicker||(this.endDate&&(this.startDate.isBefore(this.endDate)||this.startDate.isSame(this.endDate)))){this.container.find("button.applyBtn").removeAttr("disabled")}else{this.container.find("button.applyBtn").attr("disabled","disabled")}},move:function(){var F={top:0,left:0},G;var H=E(window).width();if(!this.parentEl.is("body")){F={top:this.parentEl.offset().top-this.parentEl.scrollTop(),left:this.parentEl.offset().left-this.parentEl.scrollLeft()};H=this.parentEl[0].clientWidth+this.parentEl.offset().left}if(this.drops=="up"){G=this.element.offset().top-this.container.outerHeight()-F.top}else{G=this.element.offset().top+this.element.outerHeight()-F.top}this.container[this.drops=="up"?"addClass":"removeClass"]("dropup");if(this.opens=="left"){this.container.css({top:G,right:H-this.element.offset().left-this.element.outerWidth(),left:"auto"});if(this.container.offset().left<0){this.container.css({right:"auto",left:9})}}else{if(this.opens=="center"){this.container.css({top:G,left:this.element.offset().left-F.left+this.element.outerWidth()/2-this.container.outerWidth()/2,right:"auto"});if(this.container.offset().left<0){this.container.css({right:"auto",left:9})}}else{this.container.css({top:G,left:this.element.offset().left-F.left,right:"auto"});if(this.container.offset().left+this.container.outerWidth()>E(window).width()){this.container.css({left:"auto",right:0})}}}},show:function(F){if(this.isShowing){return}this._outsideClickProxy=E.proxy(function(G){this.outsideClick(G)},this);E(document).on("mousedown.daterangepicker",this._outsideClickProxy).on("touchend.daterangepicker",this._outsideClickProxy).on("click.daterangepicker","[data-toggle=dropdown]",this._outsideClickProxy).on("focusin.daterangepicker",this._outsideClickProxy);E(window).on("resize.daterangepicker",E.proxy(function(G){this.move(G)},this));this.oldStartDate=this.startDate.clone();this.oldEndDate=this.endDate.clone();this.updateView();this.container.show();this.move();this.element.trigger("show.daterangepicker",this);this.isShowing=true},hide:function(F){if(!this.isShowing){return}if(!this.endDate){this.startDate=this.oldStartDate.clone();this.endDate=this.oldEndDate.clone()}if(!this.startDate.isSame(this.oldStartDate)||!this.endDate.isSame(this.oldEndDate)){this.callback(this.startDate,this.endDate,this.chosenLabel)}this.updateElement();E(document).off(".daterangepicker");E(window).off(".daterangepicker");this.container.hide();this.element.trigger("hide.daterangepicker",this);this.isShowing=false},toggle:function(F){if(this.isShowing){this.hide()}else{this.show()}},outsideClick:function(F){var G=E(F.target);if(F.type=="focusin"||G.closest(this.element).length||G.closest(this.container).length||G.closest(".calendar-table").length){return}this.hide()},showCalendars:function(){this.container.addClass("show-calendar");this.move();this.element.trigger("showCalendar.daterangepicker",this)},hideCalendars:function(){this.container.removeClass("show-calendar");this.element.trigger("hideCalendar.daterangepicker",this)},hoverRange:function(G){if(this.container.find("input[name=daterangepicker_start]").is(":focus")||this.container.find("input[name=daterangepicker_end]").is(":focus")){return}var F=G.target.innerHTML;if(F==this.locale.customRangeLabel){this.updateView()}else{var H=this.ranges[F];this.container.find("input[name=daterangepicker_start]").val(H[0].format(this.locale.format));this.container.find("input[name=daterangepicker_end]").val(H[1].format(this.locale.format))}},clickRange:function(G){var F=G.target.innerHTML;this.chosenLabel=F;if(F==this.locale.customRangeLabel){this.showCalendars()}else{var H=this.ranges[F];this.startDate=H[0];this.endDate=H[1];if(!this.timePicker){this.startDate.startOf("day");this.endDate.endOf("day")}this.hideCalendars();this.clickApply()}},clickPrev:function(F){var G=E(F.target).parents(".calendar");if(G.hasClass("left")){this.leftCalendar.month.subtract(1,"month");if(this.linkedCalendars){this.rightCalendar.month.subtract(1,"month")}}else{this.rightCalendar.month.subtract(1,"month")}this.updateCalendars()},clickNext:function(F){var G=E(F.target).parents(".calendar");if(G.hasClass("left")){this.leftCalendar.month.add(1,"month")}else{this.rightCalendar.month.add(1,"month");if(this.linkedCalendars){this.leftCalendar.month.add(1,"month")}}this.updateCalendars()},hoverDate:function(G){if(this.container.find("input[name=daterangepicker_start]").is(":focus")||this.container.find("input[name=daterangepicker_end]").is(":focus")){return}if(!E(G.target).hasClass("available")){return}var L=E(G.target).attr("data-title");var K=L.substr(1,1);var F=L.substr(3,1);var I=E(G.target).parents(".calendar");var N=I.hasClass("left")?this.leftCalendar.calendar[K][F]:this.rightCalendar.calendar[K][F];if(this.endDate){this.container.find("input[name=daterangepicker_start]").val(N.format(this.locale.format))}else{this.container.find("input[name=daterangepicker_end]").val(N.format(this.locale.format))}var M=this.leftCalendar;var H=this.rightCalendar;var J=this.startDate;if(!this.endDate){this.container.find(".calendar td").each(function(U,O){if(E(O).hasClass("week")){return}var T=E(O).attr("data-title");var S=T.substr(1,1);var Q=T.substr(3,1);var R=E(O).parents(".calendar");var P=R.hasClass("left")?M.calendar[S][Q]:H.calendar[S][Q];if(P.isAfter(J)&&P.isBefore(N)){E(O).addClass("in-range")}else{E(O).removeClass("in-range")}})}},clickDate:function(H){if(!E(H.target).hasClass("available")){return}var L=E(H.target).attr("data-title");var J=L.substr(1,1);var F=L.substr(3,1);var I=E(H.target).parents(".calendar");var O=I.hasClass("left")?this.leftCalendar.calendar[J][F]:this.rightCalendar.calendar[J][F];if(this.endDate||O.isBefore(this.startDate)){if(this.timePicker){var K=parseInt(this.container.find(".left .hourselect").val(),10);if(!this.timePicker24Hour){var N=I.find(".ampmselect").val();if(N==="PM"&&K<12){K+=12}if(N==="AM"&&K===12){K=0}}var M=parseInt(this.container.find(".left .minuteselect").val(),10);var G=this.timePickerSeconds?parseInt(this.container.find(".left .secondselect").val(),10):0;O=O.clone().hour(K).minute(M).second(G)}this.endDate=null;this.setStartDate(O.clone())}else{if(this.timePicker){var K=parseInt(this.container.find(".right .hourselect").val(),10);if(!this.timePicker24Hour){var N=this.container.find(".right .ampmselect").val();if(N==="PM"&&K<12){K+=12}if(N==="AM"&&K===12){K=0}}var M=parseInt(this.container.find(".right .minuteselect").val(),10);var G=this.timePickerSeconds?parseInt(this.container.find(".right .secondselect").val(),10):0;O=O.clone().hour(K).minute(M).second(G)}this.setEndDate(O.clone());if(this.autoApply){this.clickApply()}}if(this.singleDatePicker){this.setEndDate(this.startDate);if(!this.timePicker){this.clickApply()}}this.updateView()},clickApply:function(F){this.hide();this.element.trigger("apply.daterangepicker",this)},clickCancel:function(F){this.startDate=this.oldStartDate;this.endDate=this.oldEndDate;this.hide();this.element.trigger("cancel.daterangepicker",this)},monthOrYearChanged:function(G){var I=E(G.target).closest(".calendar").hasClass("left"),F=I?"left":"right",J=this.container.find(".calendar."+F);var K=parseInt(J.find(".monthselect").val(),10);var H=J.find(".yearselect").val();if(!I){if(H<this.startDate.year()||(H==this.startDate.year()&&K<this.startDate.month())){K=this.startDate.month();H=this.startDate.year()}}if(this.minDate){if(H<this.minDate.year()||(H==this.minDate.year()&&K<this.minDate.month())){K=this.minDate.month();H=this.minDate.year()}}if(this.maxDate){if(H>this.maxDate.year()||(H==this.maxDate.year()&&K>this.maxDate.month())){K=this.maxDate.month();H=this.maxDate.year()}}if(I){this.leftCalendar.month.month(K).year(H);if(this.linkedCalendars){this.rightCalendar.month=this.leftCalendar.month.clone().add(1,"month")}}else{this.rightCalendar.month.month(K).year(H);if(this.linkedCalendars){this.leftCalendar.month=this.rightCalendar.month.clone().subtract(1,"month")}}this.updateCalendars()},timeChanged:function(F){var L=E(F.target).closest(".calendar"),M=L.hasClass("left");var K=parseInt(L.find(".hourselect").val(),10);var J=parseInt(L.find(".minuteselect").val(),10);var G=this.timePickerSeconds?parseInt(L.find(".secondselect").val(),10):0;if(!this.timePicker24Hour){var N=L.find(".ampmselect").val();if(N==="PM"&&K<12){K+=12}if(N==="AM"&&K===12){K=0}}if(M){var H=this.startDate.clone();H.hour(K);H.minute(J);H.second(G);this.setStartDate(H);if(this.singleDatePicker){this.endDate=this.startDate.clone()}else{if(this.endDate&&this.endDate.format("YYYY-MM-DD")==H.format("YYYY-MM-DD")&&this.endDate.isBefore(H)){this.setEndDate(H.clone())}}}else{if(this.endDate){var I=this.endDate.clone();I.hour(K);I.minute(J);I.second(G);this.setEndDate(I)}}this.updateCalendars();this.updateFormInputs();this.renderTimePicker("left");this.renderTimePicker("right")},formInputsChanged:function(F){var H=E(F.target).closest(".calendar").hasClass("right");var I=D(this.container.find('input[name="daterangepicker_start"]').val(),this.locale.format);var G=D(this.container.find('input[name="daterangepicker_end"]').val(),this.locale.format);if(I.isValid()&&G.isValid()){if(H&&G.isBefore(I)){I=G.clone()}this.setStartDate(I);this.setEndDate(G);if(H){this.container.find('input[name="daterangepicker_start"]').val(this.startDate.format(this.locale.format))}else{this.container.find('input[name="daterangepicker_end"]').val(this.endDate.format(this.locale.format))}}this.updateCalendars();if(this.timePicker){this.renderTimePicker("left");this.renderTimePicker("right")}},elementChanged:function(){if(!this.element.is("input")){return}if(!this.element.val().length){return}if(this.element.val().length<this.locale.format.length){return}var G=this.element.val().split(this.locale.separator),H=null,F=null;if(G.length===2){H=D(G[0],this.locale.format);F=D(G[1],this.locale.format)}if(this.singleDatePicker||H===null||F===null){H=D(this.element.val(),this.locale.format);F=H}if(!H.isValid()||!F.isValid()){return}this.setStartDate(H);this.setEndDate(F);this.updateView()},keydown:function(F){if((F.keyCode===9)||(F.keyCode===13)){this.hide()}},updateElement:function(){if(this.element.is("input")&&!this.singleDatePicker&&this.autoUpdateInput){this.element.val(this.startDate.format(this.locale.format)+this.locale.separator+this.endDate.format(this.locale.format));this.element.trigger("change")}else{if(this.element.is("input")&&this.autoUpdateInput){this.element.val(this.startDate.format(this.locale.format));this.element.trigger("change")}}},remove:function(){this.container.remove();this.element.off(".daterangepicker");this.element.removeData()}};E.fn.daterangepicker=function(G,F){this.each(function(){var H=E(this);if(H.data("daterangepicker")){H.data("daterangepicker").remove()}H.data("daterangepicker",new A(H,G,F))});return this}}));